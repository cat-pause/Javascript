<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jquery</title>
    <script src="lib/jquery-3.6.1.js"></script>
    <style>
        #submit{
            width:150px;
            line-height: 40px;
            text-align: center;
            margin:10px;
        }
    </style>
</head>
<body>
    <h1>폼 이벤트</h1>
    <p>
        폼 이벤트는 input, select, textarea 등의 폼 엘리먼트가 포커스를
        받거나 잃는 경우, 또는 전송하는 경우에 발생.
    </p>
    <h2>폼 이벤트 종류</h2>
    <ul>
        <li>submit : 폼을 전송시 발생</li>
        <li>change : 폼 엘리먼트가 변경되면 발생</li>
        <li>focus : 폼 엘리먼트가 포커스가 위치되면 발생(tab, click)</li>
        <li>blur : 폼 엘리먼트가 포커스를 잃으면 발생</li>
    </ul>

    <h3>폼 이벤트 예제(p.486)</h3>

    <form id="my-form" name="my-form" autocomplete="off" method="post" action="form-check.jsp">
        <!-- action = "전송될 위치" -->
        <label for="idx">아이디</label>
        <input type="text" id="idx" name="idx"><br>
        <label for="name">이름</label>
        <input type="text" id="name" name="name"><br>
        <input type="submit" value="전송" id="submit"><br>
    </form>

    <script>
        // const myForm = document.querySelector("#my-form");
        // myForm.addEventListener("submit", function(e){
        //     e.preventDefault();
        //     let userInfo = {};
        //     userInfo.idx = document.getElementsByName("idx").value;
        // })

        $(function(){
            //전송시 form 새로고침 : default → forbidden
            //사용자 정보 객체 => 서버로 전송할 데이터!
            const userInfo={};
            $("#my-form").submit(function(e){
                e.preventDefault(); //form 전송시 새로고침 이벤트 처리 취소
                userInfo.id = $("#idx").val();
                userInfo.name = $("#name").val();
                $("#idx").val("");
                $("#name").val(null);
                //$.ajax();
            })
            $("input").focus(function(){
                $(this).css("background-color", "#ccc");
                console.log("focus 발생");
            })
            $("input").blur(function(){
                $(this).css("background-color", "#fff");
                console.log("blur 발생");
            })
        })
    </script>
</body>
</html>